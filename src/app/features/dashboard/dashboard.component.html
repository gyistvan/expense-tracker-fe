<app-header></app-header>
<app-page>
    <div class="row">
        <div class="col-12">
            <app-month-switch></app-month-switch>
        </div>
        <div class="col-12">
            <app-saving-form></app-saving-form>
        </div>
        <div class="col-12 col-lg-6">
            <h2 class="text-center">
                Incomes
            </h2>
            <div class="col-12">
                <app-button 
                    [iconName]="!showAddNewIncomeForm ? 'plus' : 'minus'" 
                    [btnText]="!showAddNewIncomeForm ? 'Add new income' : 'Close Form'" 
                    (onClick)="changeShowAddNewIncomeForm()"
                    buttonColor="success"
                    >
                </app-button>
                <app-new-income-form (closeForm)="closeAddIncomeForm($event)" *ngIf="showAddNewIncomeForm"></app-new-income-form>
                <app-incomes-table *ngIf="incomes | async" [incomes]="incomes | async"></app-incomes-table>
            </div>
            <h2 class="text-center mt-5">
                Monthly Spendings
            </h2>
            <div class="col-12">
                <app-button 
                    [iconName]="!showAddNewTransactionForm ? 'plus' : 'minus'" 
                    [btnText]="!showAddNewTransactionForm ? 'Add new transaction' : 'Close Form'" 
                    (onClick)="changeShowAddNewTransactionForm()">
                </app-button>
                <app-new-spending-form (closeForm)="closeAddTransactionForm($event)" *ngIf="showAddNewTransactionForm"></app-new-spending-form>
                <app-monthly-spendings [transactions]="transactions"></app-monthly-spendings>
            </div>
        </div>
        <div class="col-12 col-lg-6">
            <h2 class="text-center">
                Daily spendings
            </h2>
            <div class="d-flex justify-content-around">
                <app-button btnText="Show monthly view" iconName="list" (onClick)="displayMonthlyView()"></app-button>
                <app-button btnText="Show weekly view" iconName="list" (onClick)="displayWeeklyView()" *ngIf="isInDisplayedMonth()"></app-button>
            </div>
            <app-actual-week [transactions]="transactions" [actualWeek]="getCurrentWeek()" *ngIf="isInDisplayedMonth() && !isMonthlyViewDisplayed"></app-actual-week>
            <app-monthly-transactions *ngIf="isMonthlyViewDisplayed" [transactions]="transactions"></app-monthly-transactions>
        </div>
    </div>
    <div class="row">
        <div class="col-12">
        </div>
    </div>
</app-page>